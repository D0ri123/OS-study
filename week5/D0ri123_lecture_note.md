## Semaphore와 mutex의 개념 
 ### 1. Semaphore란?
 - 공유된 자원 속 하나의 데이터는 한 번에 하나의 프로세스만 접근할 수 있도록 제한해둬야 하는데 이를 위해 고안된 것이 세마포어이다.
 - **두 개의 atomic(쪼갤 수 없는)원자적 함수로 조작되는 정수 변수로서, 멀티 프로그래밍 환경에서 공유 자원에 대한 접근을 제한하는 방법으로 사용된다.**
 - 세마포어는 운영체제 또는 커널의 한 지정된 저장장치 내 값으로서, 각 프로세스는 이를 확인하고 변경할 수 있다. 확인되는 세마포어의 값에 따라, 즉시 사용 가능 여부를 판단할 수 있다.
 - 세마포어를 사용하는 프로세스는 그 값을 확인하고, 자원을 사용하는 동안에는 그 값을 변경함으로써 다른 세마포어 사용자들이 기다리도록 해야한다. 
 - **리소스의 상태를 나타내는 간단한 카운터**
 
 ### 1-1. Semaphore의 함수호출은?
 - 세마포어 S는 정수값을 가지는 변수이며, P(wait)와 V(signal)라는 명령에 의해서만 접근 가능하다. 
   - P는 자원을 획득하는 과정이고, V는 자원을 반납하는 과정이다. P는 critical section에 들어가기 전에 수행되고, V는 나올 때 수행된다.
 - 세마포어에는 계수 세마포어(counting semaphore)와 이진 세마포어(binary semaphore)가 있다.
   - **계수 세마포어**는 초기값이 사용 가능한 자원의 수로 정해지며, 사용이 될때마다 1씩 값이 줄어든다.(Mutex라고도 할 수 있다)
   - **이진 세마포어**는 lock처럼 0과 1로 구성이 되어 있지만, lock과는 달리 초기값이 1로 설정되어 있다.

 ### 2. Mutex란?(=binary semaphore)
 - Mutual Exclusion으로 상호배제라고도 한다. critical section을 가진 쓰레드들의 러닝타임이 겹치지 않게 각각 단독으로 실행되게 하는 기술이다. 공유 자원에 대한 접근을 조율하기 위해 locking과 unlocking을 사용한다.
 - Mutex 객체를 두 쓰레드가 동시에 사용할 수 없다.
 - 한 프로세스에 의해 소유될 수 있는 key를 기반으로 한 상호배제 기법이다. 즉, key에 해당하는 어떤 객체가 있으며 이 객체를 소유한 스레드/프로세스만이 공유자원에 접근할 수 있다.

 ### 3. Semaphore의 정리
 - 기존에 배운 방식의 공통점은 커널 내의 루프(while문)를 활용해서 임계구역에 lock을 걸면서 접근을 제한한다. 이는 임계구역에 들어갈 때까지 무한 루프를 돌기 때문에(spin lock), 타임슬라이스를 사용하여 낭비 문제가 발생한다.
 - 세마포어는 이를 보완하기 위해 고안된 개념이며, critical section에 진입하기 어려우면 자발적으로 대기(block)상태에 들어가는 것이다. 임계구역을 떠나는 프로세스가 대기 상태에 있는 프로세스를 준비 상태로 깨워준다.
 - 즉 block/wakeup 알고리즘이 된다. 이로써 타임슬라이스의 낭비를 줄일 수 있다.
 - 구성은 1-1에서 언급한 함수와 덧붙여 자원 현황을 나타내는 정수값(value, 초기값은 자원의 개수), 프로세스 대기큐(세마포어 대기큐)로 이루어져 있다.
 - 세마포어 개념과 별개로 무한루프를 도는 것이 무조건 나쁜 것은 아니다. 상호배제 관계에 있는 임계구역의 계산량이 현저히 작기 때문에 spinlock이 세마포어보다 문맥교환의 오버헤드를 줄일 수 있다.

 ### 4. Semaphore와 Mutex의 차이
 - Mutex
  
![image](https://user-images.githubusercontent.com/94590894/192129919-800d6f10-3fab-4823-9491-bd70ae9f52a5.png)
 - Semaphore
  
![image](https://user-images.githubusercontent.com/94590894/192129948-0cb8a7b7-155d-45a2-a13b-7c614e828d78.png)

 - Mutex는 동기화 대상이 1개일 때 사용가능하고, Semaphore는 동기화 대상이 1개 이상일 때 사용가능하다.
 - 세마포어는 뮤텍스가 될 수 있지만, 뮤텍스는 세마포어가 될 수 없다.
 - 뮤텍스는 자원 소유 가능 + 책임을 가지는 반면, 세마포어는 자원 소유가 불가하다.

----------
## Classical Problems of Synchronization
#### 1. Bounded-Buffer Problem(Producer-Consumer Problem)
#### 2. Readers and Writer Problem
#### 3. Dining-Philosophers Problem




-----------
## Deadlock(무조건 오늘까지 끝내기)